select ?item ?itemLabel ?image ?artist ?artistLabel ?title ?titleLang ?time ?timeprecision {
  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
  VALUES ?isa { {% for isa in isa_list %} wd:{{ isa }} {% endfor %} }

  ?item wdt:P31 ?isa .
  {% for pid, qid in params %}
    ?item wdt:{{pid}} wd:{{qid}} .
  {% endfor %}
  ?item wdt:P18 ?image .
  OPTIONAL {
    ?item p:P571/psv:P571 ?timenode .
    ?timenode wikibase:timeValue         ?time.
    ?timenode wikibase:timePrecision     ?timeprecision.
  }
  OPTIONAL {
    ?item wdt:P1476 ?title .
    BIND(LANG(?title) as ?titleLang)
  }
  OPTIONAL { ?item wdt:P170 ?artist }
}
